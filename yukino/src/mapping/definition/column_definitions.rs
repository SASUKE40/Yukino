use crate::mapping::definition::table_definitions::IndexDefinition;
use super::super::r#type::DatabaseType;
use crate::mapping::attribution::{ReferenceAction, FetchMode};

/// Types of Column
#[allow(dead_code)]
pub enum Column {
    /// NormalColumn correspond to a field in Entity
    NormalColumn(ColumnDefinition),
    /// InternalColumn was generated by framework
    InternalColumn(IndexDefinition),
    /// A reference of other internal column, correspond to a field in Entity
    VirtualColumn(VirtualColumnDefinition)
}

#[allow(dead_code)]
pub struct ColumnDefinition {
    pub name: String,
    pub field_name: String,
    pub column_type: DatabaseType,
    pub logic_type: String
}

/// InternalColumn was generated from Association mapped value.
#[allow(dead_code)]
pub struct InternalColumnDefinition {
    pub name: String,
    pub column_type: DatabaseType,
    pub logic_type: String,
    pub reference_table: String,
    pub reference_column: String
}

#[allow(dead_code)]
pub struct VirtualColumnDefinition {
    pub field_name: String,
    pub reference_table: String,
    pub reference_column: String,
    pub type_table_name: String,
    pub is_list: bool,
    pub on_delete: ReferenceAction,
    pub on_update: ReferenceAction,
    pub fetch_mode: FetchMode
}

